# UFO Galaxy - è·¨å¹³å°åˆ†å¸ƒå¼ Agent ç³»ç»Ÿ

UFO Galaxy æ˜¯ä¸€ä¸ªè·¨è®¾å¤‡åˆ†å¸ƒå¼å¤š Agent ç³»ç»Ÿï¼Œæ ¸å¿ƒç›®æ ‡æ˜¯é€šè¿‡ç»Ÿä¸€åè®®ï¼Œè®© AI Agent èƒ½å¤Ÿæ“æ§ä»»æ„å¹³å°çš„ä»»æ„è®¾å¤‡ï¼Œå®ç°"ä¸€ä¸ªæŒ‡ä»¤ï¼Œå¤šè®¾å¤‡ååŒæ‰§è¡Œ"ã€‚

## ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              UFO Galaxy ç½‘å…³                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ WebSocket   â”‚  â”‚ ä»»åŠ¡ç¼–æ’å™¨   â”‚  â”‚ è®¾å¤‡ç®¡ç†å™¨   â”‚  â”‚ æ¶ˆæ¯å¤„ç†å™¨   â”‚        â”‚
â”‚  â”‚ Server      â”‚  â”‚(Orchestrator)â”‚  â”‚(DeviceMgr)  â”‚  â”‚(MsgHandler) â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                              AIP v3.0 ç»Ÿä¸€åè®®
                                      â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                             â”‚                             â”‚
        â–¼                             â–¼                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Android      â”‚             â”‚  Windows      â”‚             â”‚  Linux        â”‚
â”‚  Agent        â”‚             â”‚  Agent        â”‚             â”‚  Agent        â”‚
â”‚  (APK)        â”‚             â”‚  (Python)     â”‚             â”‚  (Python)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## å¿«é€Ÿå¼€å§‹

### 1. ä½¿ç”¨ Docker Compose (æ¨è)

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/DannyFish-11/ufo-galaxy-realization.git
cd ufo-galaxy-realization

# å¤åˆ¶ç¯å¢ƒå˜é‡é…ç½®
cp .env.example .env

# å¯åŠ¨æœåŠ¡
docker-compose up -d
```

### 2. æœ¬åœ°å¼€å‘

```bash
# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å¯åŠ¨ç½‘å…³
python -m galaxy_gateway.app
```

### 3. è¿æ¥è®¾å¤‡

ç½‘å…³å¯åŠ¨åï¼Œè®¾å¤‡å¯ä»¥é€šè¿‡ WebSocket è¿æ¥ï¼š

```
ws://localhost:8000/ws/{device_id}
```

## API æ–‡æ¡£

å¯åŠ¨æœåŠ¡åè®¿é—®ï¼š`http://localhost:8000/docs`

### ä¸»è¦ç«¯ç‚¹

| ç«¯ç‚¹ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/health` | GET | å¥åº·æ£€æŸ¥ |
| `/ws/{device_id}` | WebSocket | è®¾å¤‡è¿æ¥ |
| `/api/devices` | GET | è·å–æ‰€æœ‰è®¾å¤‡ |
| `/api/tasks` | POST | æäº¤ä»»åŠ¡ |
| `/api/tasks/{task_id}` | GET | è·å–ä»»åŠ¡çŠ¶æ€ |
| `/api/commands` | POST | å‘é€å‘½ä»¤ |

## AIP v3.0 åè®®

AIP (Agent Interaction Protocol) æ˜¯ UFO Galaxy çš„æ ¸å¿ƒé€šä¿¡åè®®ã€‚

### æ¶ˆæ¯æ ¼å¼

```json
{
  "version": "3.0",
  "message_id": "uuid",
  "type": "device_register",
  "device_id": "android_001",
  "device_type": "android_phone",
  "timestamp": "2026-02-02T12:00:00Z",
  "payload": {}
}
```

### æ¶ˆæ¯ç±»å‹

- **è®¾å¤‡ç®¡ç†**: `device_register`, `device_heartbeat`, `device_status`
- **ä»»åŠ¡è°ƒåº¦**: `task_submit`, `task_assign`, `task_result`
- **GUI æ“ä½œ**: `gui_click`, `gui_swipe`, `gui_input`, `gui_screenshot`
- **æ–‡ä»¶æ“ä½œ**: `file_read`, `file_write`, `file_transfer`

## ç›®å½•ç»“æ„

```
ufo-galaxy-realization/
â”œâ”€â”€ galaxy_gateway/           # æ ¸å¿ƒç½‘å…³ä»£ç 
â”‚   â”œâ”€â”€ protocol/            # AIP v3.0 åè®®å®šä¹‰
â”‚   â”œâ”€â”€ transport/           # WebSocket ä¼ è¾“å±‚
â”‚   â”œâ”€â”€ handlers/            # æ¶ˆæ¯å¤„ç†å™¨
â”‚   â”œâ”€â”€ orchestrator/        # ä»»åŠ¡ç¼–æ’å™¨
â”‚   â””â”€â”€ app.py              # FastAPI ä¸»åº”ç”¨
â”œâ”€â”€ external/                # å¤–éƒ¨é›†æˆ
â”‚   â”œâ”€â”€ microsoft_ufo/       # Microsoft UFO æ¨¡å—
â”‚   â”œâ”€â”€ memos/              # MemOS è®°å¿†ç³»ç»Ÿ
â”‚   â””â”€â”€ agentcpm/           # AgentCPM-GUI æ¨¡å—
â”œâ”€â”€ agents/                  # å¹³å° Agent
â”‚   â”œâ”€â”€ windows/            # Windows Agent
â”‚   â””â”€â”€ linux/              # Linux Agent
â”œâ”€â”€ config/                  # é…ç½®æ–‡ä»¶
â”œâ”€â”€ tests/                   # æµ‹è¯•ä»£ç 
â”œâ”€â”€ docker-compose.yml       # Docker éƒ¨ç½²é…ç½®
â”œâ”€â”€ Dockerfile.gateway       # ç½‘å…³ Dockerfile
â”œâ”€â”€ requirements.txt         # Python ä¾èµ–
â””â”€â”€ README.md               # æœ¬æ–‡ä»¶
```

## æ”¯æŒçš„å¹³å°

| å¹³å° | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| Android | âœ… å·²å®ç° | å®Œæ•´çš„æ— éšœç¢æœåŠ¡å®ç° |
| Windows | ğŸš§ å¼€å‘ä¸­ | åŸºäº Microsoft UFO |
| Linux | ğŸš§ å¼€å‘ä¸­ | æ”¯æŒ X11/Wayland |
| iOS | ğŸ“‹ è®¡åˆ’ä¸­ | å—é™äºè‹¹æœæ”¿ç­– |
| macOS | ğŸ“‹ è®¡åˆ’ä¸­ | åŸºäº Accessibility API |
| äº‘ç«¯ | ğŸ“‹ è®¡åˆ’ä¸­ | åä¸ºäº‘/é˜¿é‡Œäº‘/AWS |

## å¤–éƒ¨ä¾èµ–

- **Microsoft UFO**: Windows UI Automation å’Œ Agent æ¡†æ¶
- **MemOS**: è®°å¿†ç³»ç»Ÿï¼Œæ”¯æŒå›¾æ•°æ®åº“å’Œå‘é‡æ•°æ®åº“
- **AgentCPM-GUI**: GUI ç†è§£æ¨¡å‹

## é…ç½®è¯´æ˜

ä¸»è¦ç¯å¢ƒå˜é‡ï¼š

```bash
# AI API Keys
OPENAI_API_KEY=your-key
GEMINI_API_KEY=your-key

# æ•°æ®åº“
NEO4J_URI=bolt://localhost:7687
QDRANT_URL=http://localhost:6333

# æœåŠ¡é…ç½®
HOST=0.0.0.0
PORT=8000
```

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„æ¶ˆæ¯ç±»å‹

1. åœ¨ `galaxy_gateway/protocol/aip_v3.py` ä¸­æ·»åŠ æ¶ˆæ¯ç±»å‹
2. åœ¨ `galaxy_gateway/handlers/message_handler.py` ä¸­æ·»åŠ å¤„ç†å™¨
3. æ›´æ–°å®¢æˆ·ç«¯åè®®å®šä¹‰

### æ·»åŠ æ–°çš„å¹³å°æ”¯æŒ

1. åœ¨ `agents/` ç›®å½•ä¸‹åˆ›å»ºæ–°å¹³å°ç›®å½•
2. å®ç° `PlatformAgent` æ¥å£
3. å®ç°å¹³å°ç‰¹å®šçš„ GUI æ§åˆ¶é€»è¾‘

## License

MIT License

## ç›¸å…³é¡¹ç›®

- [ufo-galaxy-android](https://github.com/DannyFish-11/ufo-galaxy-android) - Android å®¢æˆ·ç«¯
- [Microsoft UFO](https://github.com/microsoft/UFO) - Windows Agent æ¡†æ¶
- [MemOS](https://github.com/MemTensor/MemOS) - è®°å¿†ç³»ç»Ÿ
- [AgentCPM-GUI](https://github.com/OpenBMB/AgentCPM-GUI) - GUI ç†è§£æ¨¡å‹
